local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "Rust.cc"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 320, 0, 180)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -90)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(80, 80, 80)
mainFrame.ClipsDescendants = true
mainFrame.Visible = false
mainFrame.Parent = screenGui

local header = Instance.new("Frame")
header.Name = "Header"
header.Size = UDim2.new(1, 0, 0, 35)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
header.BorderSizePixel = 1
header.BorderColor3 = Color3.fromRGB(80, 80, 80)
header.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -80, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "RUST.CC"
title.TextColor3 = Color3.fromRGB(180, 180, 180)
title.TextScaled = true
title.Font = Enum.Font.Code
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 25, 0, 25)
closeButton.Position = UDim2.new(1, -30, 0, 5)
closeButton.BackgroundColor3 = Color3.fromRGB(120, 80, 80)
closeButton.BorderSizePixel = 1
closeButton.BorderColor3 = Color3.fromRGB(100, 60, 60)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(200, 200, 200)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.Code
closeButton.Parent = header
local contentFrame = Instance.new("Frame")
contentFrame.Name = "Content"
contentFrame.Size = UDim2.new(1, -20, 1, -50)
contentFrame.Position = UDim2.new(0, 10, 0, 40)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

local options = {"Buff Arma"}

local function createToggle(name, position)
    local optionFrame = Instance.new("Frame")
    optionFrame.Name = name
    optionFrame.Size = UDim2.new(1, 0, 0, 40)
    optionFrame.Position = UDim2.new(0, 0, 0, position * 50)
    optionFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    optionFrame.BorderSizePixel = 1
    optionFrame.BorderColor3 = Color3.fromRGB(70, 70, 70)
    optionFrame.Parent = contentFrame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -120, 1, 0)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = name
    label.TextColor3 = Color3.fromRGB(160, 160, 160)
    label.TextScaled = true
    label.Font = Enum.Font.Code
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = optionFrame
    
    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(0, 80, 0, 25)
    toggleButton.Position = UDim2.new(1, -90, 0.5, -12)
    toggleButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    toggleButton.BorderSizePixel = 2
    toggleButton.BorderColor3 = Color3.fromRGB(90, 90, 90)
    toggleButton.Text = "OFF"
    toggleButton.TextColor3 = Color3.fromRGB(140, 140, 140)
    toggleButton.TextScaled = true
    toggleButton.Font = Enum.Font.Code
    toggleButton.Parent = optionFrame
    
    local isActive = false
    local buffLoop

    toggleButton.MouseButton1Click:Connect(function()
        isActive = not isActive

        if isActive then
            toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
            toggleButton.BorderColor3 = Color3.fromRGB(120, 120, 120)
            toggleButton.Text = "ON"
            toggleButton.TextColor3 = Color3.fromRGB(200, 200, 200)
            optionFrame.BorderColor3 = Color3.fromRGB(100, 100, 100)

            if name == "Buff Arma" then
                buffLoop = spawn(function()
                    while isActive do
                        local Backpack = player:WaitForChild("Backpack")
                        for _, item in pairs(Backpack:GetChildren()) do
                            local settings = item:FindFirstChild("Setting")
                            if settings then
                                local config = require(settings)
                                config["AmmoPerMag"] = 999999999999
                                config["FireRate"] = 0.01
                                config["BaseDamage"] = 100
                                config["Radius"] = 999999999999
                                config["Range"] = 9999999999
                                config["HitCharSndPitch"] = 9999
                                config["Recoil"] = 0
                                config["AngleX"] = 0
                                config["AngleY"] = 0
                            end
                        end
                        wait(0.5)
                    end
                end)
                print("Rust.cc Buff arma bro https://discord.gg/R9J2f9gdWy")
            end

        else
            toggleButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            toggleButton.BorderColor3 = Color3.fromRGB(90, 90, 90)
            toggleButton.Text = "OFF"
            toggleButton.TextColor3 = Color3.fromRGB(140, 140, 140)
            optionFrame.BorderColor3 = Color3.fromRGB(70, 70, 70)
        end

        toggleButton.Size = UDim2.new(0, 85, 0, 30)
        wait(0.1)
        toggleButton.Size = UDim2.new(0, 80, 0, 25)
    end)
    
    toggleButton.MouseEnter:Connect(function()
        toggleButton.BorderColor3 = Color3.fromRGB(110, 110, 110)
    end)
    
    toggleButton.MouseLeave:Connect(function()
        if isActive then
            toggleButton.BorderColor3 = Color3.fromRGB(120, 120, 120)
        else
            toggleButton.BorderColor3 = Color3.fromRGB(90, 90, 90)
        end
    end)
end

for i, option in pairs(options) do
    createToggle(option, i - 1)
end
local floatingButton = Instance.new("TextButton")
floatingButton.Name = "FloatingButton"
floatingButton.Size = UDim2.new(0, 50, 0, 50)
floatingButton.Position = UDim2.new(1, -70, 1, -70)
floatingButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
floatingButton.BorderSizePixel = 2
floatingButton.BorderColor3 = Color3.fromRGB(80, 80, 80)
floatingButton.Text = "R"
floatingButton.TextColor3 = Color3.fromRGB(180, 180, 180)
floatingButton.TextScaled = true
floatingButton.Font = Enum.Font.Code
floatingButton.Parent = screenGui

local statusIndicator = Instance.new("Frame")
statusIndicator.Size = UDim2.new(0, 8, 0, 8)
statusIndicator.Position = UDim2.new(1, -10, 0, 2)
statusIndicator.BackgroundColor3 = Color3.fromRGB(100, 120, 100)
statusIndicator.BorderSizePixel = 1
statusIndicator.BorderColor3 = Color3.fromRGB(80, 100, 80)
statusIndicator.Parent = floatingButton

spawn(function()
    while true do
        statusIndicator.BackgroundColor3 = Color3.fromRGB(120, 140, 120)
        wait(1)
        statusIndicator.BackgroundColor3 = Color3.fromRGB(100, 120, 100)
        wait(1)
    end
end)

local dragging = false
local dragStart = nil
local startPos = nil

header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

local guiVisible = false
local function toggleGUI()
    guiVisible = not guiVisible
    mainFrame.Visible = guiVisible
    
    if guiVisible then
        floatingButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        floatingButton.BorderColor3 = Color3.fromRGB(100, 100, 100)
    else
        floatingButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        floatingButton.BorderColor3 = Color3.fromRGB(80, 80, 80)
    end
end

floatingButton.MouseButton1Click:Connect(toggleGUI)
closeButton.MouseButton1Click:Connect(toggleGUI)

floatingButton.MouseEnter:Connect(function()
    floatingButton.BorderColor3 = Color3.fromRGB(100, 100, 100)
end)

floatingButton.MouseLeave:Connect(function()
    if guiVisible then
        floatingButton.BorderColor3 = Color3.fromRGB(100, 100, 100)
    else
        floatingButton.BorderColor3 = Color3.fromRGB(80, 80, 80)
    end
end)

closeButton.MouseEnter:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(140, 90, 90)
end)

closeButton.MouseLeave:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(120, 80, 80)

    
end)

local discordButton = Instance.new("TextButton")
discordButton.Size = UDim2.new(0, 200, 0, 30)
discordButton.Position = UDim2.new(0.5, -100, 1, -40)
discordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
discordButton.BorderSizePixel = 1
discordButton.BorderColor3 = Color3.fromRGB(70, 70, 70)
discordButton.Text = "Copiar link Discord"
discordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
discordButton.TextScaled = true
discordButton.Font = Enum.Font.Code
discordButton.Parent = contentFrame

discordButton.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/R9J2f9gdWy")
    discordButton.Text = "Servidor copiado!"
    wait(1)
    discordButton.Text = "Copiar Servidor Discord"
end)

discordButton.MouseEnter:Connect(function()
    discordButton.BorderColor3 = Color3.fromRGB(110, 110, 110)
end)

discordButton.MouseLeave:Connect(function()
    discordButton.BorderColor3 = Color3.fromRGB(70, 70, 70)
end)
local watermark = Instance.new("TextLabel")
watermark.Size = UDim2.new(0, 120, 0, 15)
watermark.Position = UDim2.new(0, 5, 1, -20)
watermark.BackgroundTransparency = 1
watermark.Text = "v2.0 - Rust.cc"
watermark.TextColor3 = Color3.fromRGB(100, 100, 100)
watermark.TextScaled = true
watermark.Font = Enum.Font.Code
watermark.TextXAlignment = Enum.TextXAlignment.Left
watermark.Parent = mainFrame
